{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://express-server/./static/js/modules/Cards_block.js","webpack://express-server/./static/js/modules/response_post.js","webpack://express-server/./static/js/modules/check_inputs_form.js","webpack://express-server/./static/js/modules/notification.js","webpack://express-server/./static/js/app.js"],"sourcesContent":["'use strict';\r\n\r\nclass CardsBlock {\r\n  constructor({urlGet, btnClass, parentClass, blockName, wrapper, outputKeys}){\r\n    this.urlGet = urlGet;\r\n    this.btnClass = btnClass;\r\n    this.parentClass = parentClass;\r\n    this.blockName = blockName;\r\n    this.wrapper = wrapper;\r\n    this.outputKeys = outputKeys;\r\n  }\r\n  checkContentParent(parentClass, blockName, wrapper) {\r\n    const parent = document.querySelector(`.${parentClass}`);\r\n    const content = parent.querySelectorAll(`.${blockName}__${wrapper}`);\r\n    if (content) {\r\n      content.forEach(item => {\r\n        item.remove();\r\n      });\r\n    }\r\n  }\r\n  createDomElement(parentSelector, tag, classNameArr) {\r\n    const parentElem = document.querySelector(`.${parentSelector}`);\r\n    const elem = document.createElement(tag);\r\n    classNameArr.forEach(item => {\r\n      elem.classList.add(item);\r\n    });\r\n    parentElem.append(elem);\r\n      return elem;\r\n  }\r\n  cardGenerator(data, parent, blockName, wrapper, output) {\r\n    this.createDomElement(parent, 'div', [`${blockName}__${wrapper}`, `${wrapper}`]);\r\n    data.forEach(item => {\r\n      const list = this.createDomElement(`${blockName}__${wrapper}`, 'ul', ['card']);\r\n      output.forEach(value => {\r\n        const elem = document.createElement('li');\r\n        elem.textContent = item[value];\r\n        list.append(elem);\r\n      });\r\n    });\r\n    return data;\r\n  }\r\n  createBlock() {\r\n    document.querySelector(`.${this.btnClass}`).addEventListener('click', e => {\r\n      e.preventDefault();\r\n\r\n      this.checkContentParent(this.parentClass, this.blockName, this.wrapper);\r\n  \r\n      fetch(this.urlGet)\r\n      .then(data => data.json())\r\n      .then(data => this.cardGenerator(data, this.parentClass, this.blockName, this.wrapper, this.outputKeys))\r\n      .then(data => console.log(data))\r\n      .catch(error => console.log(error))\r\n      .finally(() => console.log('fetch get end'));\r\n    });\r\n  }\r\n}\r\n\r\nexport default CardsBlock;","'use strict';\r\nimport checkInputsForm from './check_inputs_form.js';\r\nimport notification from './notification.js';\r\n\r\nfunction responsePOST(elem) {\r\n  const form = document.querySelector(elem);\r\n  const inputList = form.querySelectorAll('input');\r\n  const textHolderArr = [];\r\n  inputList.forEach(item => {\r\n    textHolderArr.push(item.placeholder);\r\n  });\r\n  form.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    if (e.target.tagName === 'BUTTON') {\r\n      if (checkInputsForm(inputList)) {\r\n        const formData = new FormData(form);\r\n        const body = {};\r\n\r\n        formData.forEach((item, i) => {\r\n          body[i] = item;\r\n        });\r\n\r\n        fetch('/api/post/', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json;charset=utf-8'\r\n          },\r\n          body: JSON.stringify(body)\r\n        })\r\n        .then(data => data.json())\r\n        .then(data => console.log(data))\r\n        .then(() => {\r\n          inputList.forEach((item, i) => {\r\n            item.classList.remove('js-warning');\r\n            item.placeholder = textHolderArr[i];\r\n          });\r\n        })\r\n        .then(() => notification(elem))\r\n        .catch(error => console.log(error))\r\n        .finally(() => console.log('fetch post end'));\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport default responsePOST;","function checkInputsForm(inputList) {\r\n  let check = true;\r\n  inputList.forEach(item => {\r\n    if (item.value === '') {\r\n      item.classList.add('js-warning');\r\n      item.placeholder = 'form is not fill!!!';\r\n      check = false;\r\n    }\r\n  });\r\n  return check;\r\n}\r\n\r\nexport default checkInputsForm;","function notification(elem) {\r\n  const parent = document.querySelector(elem);\r\n  const children = document.querySelectorAll(`${elem} *`);\r\n  const notification = document.createElement('p');\r\n  notification.textContent = 'Данные переданы на сервер';\r\n  parent.append(notification);\r\n  children.forEach(item => {\r\n    item.classList.add('js-hide');\r\n  });\r\n  setTimeout(() => {\r\n    notification.remove();\r\n    children.forEach(item => {\r\n      item.classList.remove('js-hide');\r\n      parent.reset();\r\n    });\r\n  }, 1000);\r\n}\r\n\r\nexport default notification;","'use strict';\r\nimport '../styles/index.scss';\r\n\r\nimport CardsBlock from './modules/Cards_block.js';\r\nimport responsePOST from './modules/response_post.js';\r\nimport checkInputsForm from './modules/check_inputs_form.js';\r\nimport notification from './modules/notification.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n  const getsShow = new CardsBlock ({\r\n    urlGet: '/api/data/',\r\n    btnClass: 'data__link',\r\n    parentClass: 'data__container',\r\n    blockName: 'data',\r\n    wrapper: 'wrapper',\r\n    outputKeys: ['name', 'phone'],\r\n  }).createBlock();\r\n\r\n  const postsShow = new CardsBlock ({\r\n    urlGet: '/api/posts/',\r\n    btnClass: 'posts__link',\r\n    parentClass: 'posts__container',\r\n    blockName: 'posts',\r\n    wrapper: 'wrapper',\r\n    outputKeys: ['id', 'name', 'message'],\r\n  }).createBlock();\r\n\r\n  responsePOST('.form-post');\r\n\r\n});\r\n"],"names":["constructor","urlGet","btnClass","parentClass","blockName","wrapper","outputKeys","this","checkContentParent","content","document","querySelector","querySelectorAll","forEach","item","remove","createDomElement","parentSelector","tag","classNameArr","parentElem","elem","createElement","classList","add","append","cardGenerator","data","parent","output","list","value","textContent","createBlock","addEventListener","e","preventDefault","fetch","then","json","console","log","catch","error","finally","form","inputList","textHolderArr","push","placeholder","target","tagName","check","formData","FormData","body","i","method","headers","JSON","stringify","children","notification","setTimeout","reset"],"sourceRoot":""}